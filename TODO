High priority:
Use binary search to lookup function names instead of "naive" search.

Long term:
Optimize variable expressions by calculating invariable paths once.
Add support for more than one variable.
